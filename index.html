<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Armatori Tv - Home</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="classifica.css" />
  </head>
  <body>
    <div id="header-placeholder">Caricamento Header...</div>

    <section class="contenitore-home">
      <div class="colonna sinistra">
        <h3>Classifica del Campionato</h3>
        <div id="classifica-target" class="box-embed classifica-box">
          Caricamento Classifica...
        </div>
      </div>

      <div class="colonna centro">
        <h3>Ultimi Video e Live!</h3>
        <p>Guarda i momenti salienti della squadra.</p>
        <div class="box-embed youtube-box">
          <iframe
            width="100%"
            height="315"
            src="https://www.youtube.com/embed/videoseries?list=UUai4jGthClf8IfXxA3qnzPw"
            title="Ultimi Caricamenti del Canale Amatori Lenola 2023"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
          >
          </iframe>
        </div>
      </div>

      <div class="colonna destra">
        <h3>Notizie Principali</h3>
        <article>
          <h4>Titolo Notizia 1</h4>
          <p>Breve riassunto della notizia pi√π calda del momento...</p>
          <a href="#">Leggi tutto</a>
        </article>
      </div>
    </section>

    <section class="home-sponsor-banner">
      <h2>I Nostri Sponsor</h2>

      <div class="slider-container">
        <div class="slider-track">
          <div class="sponsor-item">
            <a href="[LINK_1]" target="_blank"
              ><img
                src="sponsor/barCentroValle.jpg"
                alt="Sponsor Bar Centro Valle"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_2]" target="_blank"
              ><img src="sponsor/barLetizia.jpg" alt="Sponsor Bar Letizia"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_3]" target="_blank"
              ><img src="sponsor/carroccia.jpg" alt="Sponsor Carroccia"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_4]" target="_blank"
              ><img src="sponsor/chalet.jpg" alt="Sponsor Chalet"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_5]" target="_blank"
              ><img src="sponsor/edilErmes.jpg" alt="Sponsor Edil Ermes"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_6]" target="_blank"
              ><img src="sponsor/edilPic.jpg" alt="Sponsor Edil Pic"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_7]" target="_blank"
              ><img src="sponsor/frizziBar.jpg" alt="Sponsor Frizzi Bar"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_8]" target="_blank"
              ><img
                src="sponsor/lavanderiaIlTulipano.jpg"
                alt="Sponsor Lavanderia Il Tulipano"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_9]" target="_blank"
              ><img
                src="sponsor/loStoccoRappresentanze.jpg"
                alt="Sponsor Lo Stocco Rappresentanze"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_10]" target="_blank"
              ><img src="sponsor/mpTende.jpg" alt="Sponsor Mp Tende"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_11]" target="_blank"
              ><img src="sponsor/petrolGamma.jpg" alt="Sponsor Petrol Gamma"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_12]" target="_blank"
              ><img
                src="sponsor/tabaccheriaPanno.jpg"
                alt="Sponsor Tabaccheria Panno"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_13]" target="_blank"
              ><img src="sponsor/tintart.jpg" alt="Sponsor Tintart"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_14]" target="_blank"
              ><img src="sponsor/totoEdicola.jpg" alt="Sponsor Toto Edicola"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_15]" target="_blank"
              ><img src="sponsor/tullio.jpg" alt="Sponsor Tullio"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_16]" target="_blank"
              ><img src="sponsor/ziAnnarella.jpg" alt="Sponsor Zi' Annarella"
            /></a>
          </div>

          <div class="sponsor-item">
            <a href="[LINK_1]" target="_blank"
              ><img
                src="sponsor/barCentroValle.jpg"
                alt="Sponsor Bar Centro Valle"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_2]" target="_blank"
              ><img src="sponsor/barLetizia.jpg" alt="Sponsor Bar Letizia"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_3]" target="_blank"
              ><img src="sponsor/carroccia.jpg" alt="Sponsor Carroccia"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_4]" target="_blank"
              ><img src="sponsor/chalet.jpg" alt="Sponsor Chalet"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_5]" target="_blank"
              ><img src="sponsor/edilErmes.jpg" alt="Sponsor Edil Ermes"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_6]" target="_blank"
              ><img src="sponsor/edilPic.jpg" alt="Sponsor Edil Pic"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_7]" target="_blank"
              ><img src="sponsor/frizziBar.jpg" alt="Sponsor Frizzi Bar"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_8]" target="_blank"
              ><img
                src="sponsor/lavanderiaIlTulipano.jpg"
                alt="Sponsor Lavanderia Il Tulipano"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_9]" target="_blank"
              ><img
                src="sponsor/loStoccoRappresentanze.jpg"
                alt="Sponsor Lo Stocco Rappresentanze"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_10]" target="_blank"
              ><img src="sponsor/mpTende.jpg" alt="Sponsor Mp Tende"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_11]" target="_blank"
              ><img src="sponsor/petrolGamma.jpg" alt="Sponsor Petrol Gamma"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_12]" target="_blank"
              ><img
                src="sponsor/tabaccheriaPanno.jpg"
                alt="Sponsor Tabaccheria Panno"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_13]" target="_blank"
              ><img src="sponsor/tintart.jpg" alt="Sponsor Tintart"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_14]" target="_blank"
              ><img src="sponsor/totoEdicola.jpg" alt="Sponsor Toto Edicola"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_15]" target="_blank"
              ><img src="sponsor/tullio.jpg" alt="Sponsor Tullio"
            /></a>
          </div>
          <div class="sponsor-item">
            <a href="[LINK_16]" target="_blank"
              ><img src="sponsor/ziAnnarella.jpg" alt="Sponsor Zi' Annarella"
            /></a>
          </div>
        </div>
      </div>
    </section>
    <div id="footer-placeholder">Caricamento Footer...</div>

    <script>
      // Funzione per caricare e iniettare un file HTML in un elemento specifico
      function includeHtml(elementId, file) {
        fetch(file)
          .then((response) => {
            if (!response.ok) throw new Error(`File ${file} non trovato.`);
            return response.text();
          })
          .then((html) => {
            document.getElementById(elementId).innerHTML = html;
          })
          .catch((error) => {
            console.error(`Errore nel caricamento di ${file}:`, error);
            document.getElementById(
              elementId
            ).innerHTML = `[Errore: Impossibile caricare ${file}]`;
          });
      }

      // -----------------------------------------------------------
      // A) Caricamento di Header e Footer
      // -----------------------------------------------------------
      includeHtml("header-placeholder", "header.html");
      includeHtml("footer-placeholder", "footer.html");

      // -----------------------------------------------------------
      // B) Caricamento della Classifica
      // -----------------------------------------------------------
      function renderClassifica() {
        const JSON_URL = "classifica_girone_b.json";

        fetch(JSON_URL)
          .then((res) => {
            if (!res.ok) throw new Error("Errore caricamento JSON");
            return res.json();
          })
          .then((data) => {
            const tbody = document.getElementById("classifica-body");
            tbody.innerHTML = data.squadre
              .map(
                (team) => `
                <tr class="${team.classe_css}">
                <td>
                    <div class="team-info">
                    <span class="position-number">${team.posizione}</span>
                    <img src="${team.logo}"
                        class="team-logo"
                        alt="${team.squadra}"
                        onerror="this.src='https://www.amatoricassino.it/images/default-team.png'">
                    <span class="team-name">${team.squadra}</span>
                    </div>
                </td>
                <td><span class="stat-cell points-cell">${
                  team.punti
                }</span></td>
                <td>${team.giocate}</td>
                <td><span class="stat-cell wins-cell">${team.vinte}</span></td>
                <td><span class="stat-cell draws-cell">${
                  team.pareggi
                }</span></td>
                <td><span class="stat-cell losses-cell">${
                  team.perse
                }</span></td>
                <td><span class="stat-cell goals-cell">${team.gf}</span></td>
                <td><span class="stat-cell goals-cell">${team.gs}</span></td>
                <td>
                    <strong style="color:${team.dr >= 0 ? "white" : "black"}">
                    ${team.dr >= 0 ? "+" : ""}${team.dr}
                    </strong>
                </td>
                </tr>
            `
              )
              .join("");
          })
          .catch((err) => {
            console.error(err);
            document.getElementById("classifica-body").innerHTML = `
                <tr><td colspan="9">Classifica non disponibile</td></tr>
            `;
          });
      }

      /* carico HTML e poi JSON */
      fetch("classifica_aggiornata.html")
        .then((r) => r.text())
        .then((html) => {
          document.getElementById("classifica-target").innerHTML = html;
          renderClassifica(); // <-- ORA funziona
        });
    </script>

    <script>
      const TEAM_DA_EVIDENZIARE = "Amatori Lenola 2023";

      // Funzione per caricare e iniettare un file HTML in un elemento specifico
      function includeHtml(elementId, file) {
        fetch(file)
          .then((response) => {
            if (!response.ok) throw new Error(`File ${file} non trovato.`);
            return response.text();
          })
          .then((html) => {
            document.getElementById(elementId).innerHTML = html;
          })
          .catch((error) => {
            console.error(`Errore nel caricamento di ${file}:`, error);
            document.getElementById(
              elementId
            ).innerHTML = `[Errore: Impossibile caricare ${file}]`;
          });
      }

      // -----------------------------------------------------------
      // A) Caricamento di Header e Footer
      // -----------------------------------------------------------
      includeHtml("header-placeholder", "header.html");
      includeHtml("footer-placeholder", "footer.html");

      // -----------------------------------------------------------
      // B) Caricamento della Classifica
      // -----------------------------------------------------------
      function renderClassifica() {
        const JSON_URL = "classifica_girone_b.json";

        fetch(JSON_URL)
          .then((res) => {
            if (!res.ok) throw new Error("Errore caricamento JSON");
            return res.json();
          })
          .then((data) => {
            const tbody = document.getElementById("classifica-body");
            tbody.innerHTML = data.squadre
              .map(
                (team) => `
                <tr class="${team.classe_css} ${
                  team.squadra === TEAM_DA_EVIDENZIARE ? "highlight-team" : ""
                }">
                <td>
                    <div class="team-info">
                    <span class="position-number">${team.posizione}</span>
                    <img src="${team.logo}"
                        class="team-logo"
                        alt="${team.squadra}"
                        onerror="this.src='https://www.amatoricassino.it/images/default-team.png'">
                    <span class="team-name">${team.squadra}</span>
                    </div>
                </td>
                <td><span class="stat-cell points-cell">${
                  team.punti
                }</span></td>
                <td>${team.giocate}</td>
                <td><span class="stat-cell wins-cell">${team.vinte}</span></td>
                <td><span class="stat-cell draws-cell">${
                  team.pareggi
                }</span></td>
                <td><span class="stat-cell losses-cell">${
                  team.perse
                }</span></td>
                <td><span class="stat-cell goals-cell">${team.gf}</span></td>
                <td><span class="stat-cell goals-cell">${team.gs}</span></td>
                <td>
                    <strong style="color:${team.dr >= 0 ? "white" : "black"}">
                    ${team.dr >= 0 ? "+" : ""}${team.dr}
                    </strong>
                </td>
                </tr>
            `
              )
              .join("");
          })
          .catch((err) => {
            console.error(err);
            document.getElementById("classifica-body").innerHTML = `
                <tr><td colspan="9">Classifica non disponibile</td></tr>
            `;
          });
      }

      /* carico HTML e poi JSON */
      fetch("classifica_aggiornata.html")
        .then((r) => r.text())
        .then((html) => {
          document.getElementById("classifica-target").innerHTML = html;
          renderClassifica(); // <-- ORA funziona
        });
    </script>
  </body>
</html>
